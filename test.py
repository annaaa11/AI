# Напишіть промпт для створення плану навчального
# курсу з певної теми для цільової айдиторії(початківці,
# професіонали, діти, тощо).
# Вхідні параметри: тема, опис цільової аудиторії
# Реалізуйте двома способами:
#  Zero-shot
#  Few-shot


from langchain_google_genai import GoogleGenerativeAI
from langchain.prompts import PromptTemplate

import dotenv
import os

# завантажити api ключі з папки .env
dotenv.load_dotenv()

# отримати сам ключ
api_key = os.getenv('GEMINI_API_KEY')

# створення моделі
# Велика мовна модель(llm)

llm = GoogleGenerativeAI(
    model='gemini-2.0-flash',  # назва моделі
    google_api_key=api_key,  # ваша API
)


#  Zero-shot
prompt1 = PromptTemplate.from_template("""
Створи детальний план навчального курсу.

Тема: {тема}

Цільова аудиторія: {аудиторія}

Вимоги:
- Курс має відповідати рівню підготовки аудиторії.
- Поділи курс на модулі або тижні.
- Для кожного модуля додай короткий опис і ключові підтемі.
- За потреби запропонуй формати занять (лекція, практика, проєкт, тест).
- Завершуй курс фінальним проєктом або тестом знань.

Почни з назви курсу.
""")


#  Few-shot
prompt2 = PromptTemplate.from_template("""
Створи план навчального курсу за заданою темою і цільовою аудиторією. Нижче приклад структури:

---
Тема: Основи програмування
Аудиторія: Діти 10-13 років

Назва курсу: "Програмування — це цікаво!"
1. Вступ до програмування
   - Що таке комп’ютери та як вони працюють
   - Перша програма в Scratch
2. Логіка і алгоритми
   - Що таке алгоритм
   - Ігри для тренування логічного мислення
3. Змінні та цикли
   - Введення у змінні
   - Створення циклів у Scratch
...
Фінальний проєкт: Створити власну гру в Scratch

---

Тепер створи подібний курс за наступними параметрами:

Тема: {тема}

Аудиторія: {аудиторія}

Дотримуйся схожої структури: назва курсу, модулі, підтемі, фінальний проєкт.
""")


chain1 = prompt1 | llm
chain2 = prompt2 | llm

response1 = chain1.invoke({
    'тема': 'Основи кібербезпеки',
    'аудиторія': 'Студенти першого курсу ІТ-спеціальностей'
})
response2 = chain1.invoke({
    'тема': 'Основи кібербезпеки',
    'аудиторія': 'Студенти першого курсу ІТ-спеціальностей'
})

print(response1)
print(response2)